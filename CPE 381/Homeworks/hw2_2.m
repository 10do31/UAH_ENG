%% Dan Otieno.
%% CPE 381-01.
%% Homework 2 - Q2.
%% 02/18/2023.
%% ===================================================================== %%
%% MULTIPATH IN WIRELESS COMMUNICATION.
%% ===================================================================== %%
Fs = 11025;%<--------------------------Sampling Frequency----------------->
Ts = 1/Fs;%<---------------------------Sampling Interval------------------>
t = 0:Ts:3;%<--------------------------Time------------------------------->
x = exp(-2*t).*sin(2*pi*400.*t);%<-----Original signal-------------------->
N = length(t);%<-----------------------Vector Length---------------------->
%% ===================================================================== %%
td1 = 0.2*Fs;%<------------------------Time delay------------------------->
i1 = round(td1);%<---------------------Integer delay---------------------->
i2 = round(0.5*Fs);%<------------------Integer delay---------------------->
y1 = [zeros(1,i1) x(1:N-i1)];%<--------Delayed signal--------------------->
y2 = [zeros(1,i2) x(1:N-i2)];%<--------Delayed signal--------------------->
y = x+0.5*y1+0.25*y2;%<----------------Received signal-------------------->
%% ===================================================================== %%
%<------------------------Plot function----------------------------------->
plot(t,y),title('y = x + 0.5x(y1) + 0.25(y2)'),xlabel('time[s]'), grid on;
%<------------------------Save audio file--------------------------------->
audiowrite('hw2q2.wav',y,Fs),title('MultipathAudio');
sound(y,Fs);%<------------Listen to audio file---------------------------->
%% ===================================================================== %%